<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–æ–π VLESS-—Å–µ—Ä–≤–µ—Ä</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode.js/lib/qrcode.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 40px; background: #f0f2f5; color: #333; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #1877f2; text-align: center; margin-bottom: 30px; }
        input, button { padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; width: 100%; font-size: 16px; }
        button { background: #1877f2; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #166fe5; }
        #link { background: #f8f9fa; padding: 15px; border: 1px dashed #ccc; border-radius: 8px; word-break: break-all; margin: 15px 0; font-size: 14px; }
        #qrcode { margin: 20px auto; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê –ú–æ–π VLESS-—Å–µ—Ä–≤–µ—Ä</h1>

        <div>
            <input type="text" id="email" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: user1)">
            <button onclick="createLink()">–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
        </div>

        <div id="result" style="display: none;">
            <h3>üîó –ì–æ—Ç–æ–≤–∞—è —Å—Å—ã–ª–∫–∞:</h3>
            <div id="link"></div>
            <button onclick="copyLink()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <div id="qrcode"></div>
        </div>
    </div>

    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤—Å–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
        const PANEL_URL = 'http://95.181.173.115:54321/WB7LhotORWHGCqumN3';
        const PANEL_USERNAME = 'B2ZzKBDDP0';
        const PANEL_PASSWORD = '6t4O0M2yN6';
        const SERVER_IP = '95.181.173.115';
        const PORT = '443';
        const UUID = 'a7142645-3fc0-4cb7-8e15-40d0d06b9ff7';
        const SNI = 'www.microsoft.com';
        const PBK = 'TM8Czymm0PWudvfCrkTG39wOcB8YH_UIgud8sK_5Okk'; // ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π pbk –∏–∑ —Ä–∞–±–æ—á–µ–π —Å—Å—ã–ª–∫–∏
        const SERVICE_NAME = 'video-call';

        async function createLink() {
            const email = document.getElementById('email').value.trim();
            if (!email) return alert('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');

            try {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É —Å –í–°–ï–ú–ò –Ω—É–∂–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
                const vlessLink = `vless://${UUID}@${SERVER_IP}:${PORT}?type=grpc&mode=gun&serviceName=${SERVICE_NAME}&security=reality&fp=chrome&sni=${SNI}&pbk=${PBK}&sid=80#${email}`;

                document.getElementById('link').textContent = vlessLink;
                document.getElementById('result').style.display = 'block';

                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
                const qrcodeDiv = document.getElementById('qrcode');
                qrcodeDiv.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç—å
                new QRCode(qrcodeDiv, {
                    text: vlessLink,
                    width: 128,
                    height: 128
                });
            } catch (error) {
                alert('–û—à–∏–±–∫–∞: ' + error.message);
            }
        }

        function copyLink() {
            const linkText = document.getElementById('link').textContent;
            navigator.clipboard.writeText(linkText).then(() => {
                alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
            }).catch(err => {
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å: ' + err);
            });
        }
    </script>
</body>
</html>
